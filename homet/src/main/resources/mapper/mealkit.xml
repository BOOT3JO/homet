<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.homet.dao.MealkitMapper">
  
  <select id="getByCategory" resultType="Mealkit" parameterType="String">
  	select * from mealkit where category = #{category}
  </select>
  
   <select id="getByIdx" resultType="Mealkit" parameterType="int">
   	select * from mealkit where midx = #{midx}
   </select>
   
   	<insert id="insertOrder" parameterType="Orders">
   	insert into orders (nickname,order_list,del_date)
   	values(#{nickname},#{order_list},DATE_ADD(now(), interval 1 DAY))
   	</insert>
   	<!-- orderList : 닉네임으로 주문내역 뽑기 -->
   	<select id="orderList" resultType="Orders" parameterType="String">
   	select * from orders where nickname=#{nickname}
   	</select>
   	
   	<select id="getOrderByNickname" resultType="Orders" parameterType="String">
   		select * from orders where nickname = #{nickname}
   		and DATE(del_date) > DATE(NOW())-1
   	</select>
   	
   	<select id="getSetByCategory" resultType="setMenu" parameterType="String">
   	select * from set_menu where category = #{category}
   	</select>
   	
   	<select id="getSetByIdx" resultType="setMenu" parameterType="int">
   	select * from set_menu where setidx = #{setidx}
   	</select>
   	
  </mapper>